<!DOCTYPE html>
<html lang="vi">
  <head>
    <script>
      // token s·∫Ω ƒë∆∞·ª£c render b·ªüi Flask: window.APP_TOKEN
      window.APP_TOKEN = "{{ app_token }}";
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ANH HAI'S RESTAURANT | H·ªá th·ªëng qu·∫£n l√Ω</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <aside class="sidebar">
      <div
        class="logo-area"
        onclick="switchView('dashboard')"
        style="cursor: pointer"
      >
        <img
          src="{{ url_for('static', filename='image_1211.jpg') }}"
          alt="IT Logo"
          class="logo-img"
        />
        <div class="brand-text">ANH HAI'S<br />RESTAURANT</div>
      </div>
      <div class="user-info">
        <div class="user-avatar">C</div>
        <div style="display: flex; flex-direction: column">
          <span style="font-weight: bold; font-size: 0.95rem">Qu·∫£n l√Ω</span>
          <span style="font-size: 0.8rem; color: #94a3b8">Administrator</span>
        </div>
      </div>
      <ul class="menu-list">
        <li
          id="nav-dashboard"
          class="menu-item active"
          onclick="switchView('dashboard')"
        >
          <i class="fas fa-chart-line"></i> <span>Xem b√°o c√°o doanh thu</span>
        </li>
        <li id="nav-menu" class="menu-item" onclick="switchView('menu')">
          <i class="fas fa-utensils"></i> <span>Qu·∫£n l√Ω menu</span>
        </li>
        <li id="nav-tables" class="menu-item" onclick="switchView('tables')">
          <i class="fas fa-qrcode"></i> <span>Qu·∫£n l√Ω b√†n & QR</span>
        </li>
        <li id="nav-orders" class="menu-item" onclick="switchView('orders')">
          <i class="fas fa-clipboard-list"></i> <span>Qu·∫£n l√Ω ƒë∆°n h√†ng</span>
        </li>
        <li id="nav-staff" class="menu-item" onclick="switchView('staff')">
          <i class="fas fa-user-tie"></i> <span>Qu·∫£n l√Ω nh√¢n vi√™n</span>
        </li>
      </ul>
      <li
        class="menu-item"
        style="margin-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1)"
      >
        <a
          href="/logout"
          style="
            text-decoration: none;
            color: inherit;
            display: flex;
            align-items: center;
            gap: 15px;
            width: 100%;
          "
        >
          <i class="fas fa-sign-out-alt"></i> <span>ƒêƒÉng xu·∫•t</span>
        </a>
      </li>
    </aside>

    <main class="main-content">
      <header class="top-bar">
        <div id="page-header-title" class="page-title">
          T·ªïng quan kinh doanh
        </div>
        <div class="top-actions">
          <a
            href="#"
            onclick="toggleChatbot(); return false;"
            class="action-link"
          >
            <span>ü§ñ</span> Tr·ª£ l√Ω AI
          </a>
          <a
            href="https://mail.google.com/mail/?view=cm&fs=1&to=trunn1510@gmail.com&su=G√≥p √Ω"
            target="_blank"
            class="action-link"
            ><span>üí¨</span> G√≥p √Ω</a
          >

          <div class="noti-wrapper">
            <div class="action-link" onclick="toggleNotiDropdown()">
              <span>üîî</span> Th√¥ng b√°o
              <span id="noti-badge" class="noti-badge" style="display: none"
                >0</span
              >
            </div>
            <div id="noti-dropdown" class="noti-dropdown">
              <div class="noti-header">Th√¥ng b√°o m·ªõi</div>
              <div id="noti-list" class="noti-list">
                <div style="padding: 15px; text-align: center; color: #999">
                  Ch∆∞a c√≥ th√¥ng b√°o n√†o
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="dashboard-container">
        <div id="view-dashboard">
          <div class="section-title">B√°o c√°o nhanh</div>
          <div class="stats-grid">
            <div class="card">
              <div class="card-header">
                <span>DOANH THU H√îM NAY</span>
                <i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> Ti·ªÅn m·∫∑t
                    <span class="amount">5.200k</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> Chuy·ªÉn kho·∫£n
                    <span class="amount">8.500k</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-purple"></span> Th·∫ª
                    <span class="amount">2.100k</span>
                  </li>
                </ul>
                <div id="chart-revenue" class="chart-wrapper"></div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <span>TR·∫†NG TH√ÅI B√ÄN</span>
                <i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-green"></span> Tr·ªëng
                    <span class="amount">12</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> C√≥ kh√°ch
                    <span class="amount">8</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> ƒê·∫∑t tr∆∞·ªõc
                    <span class="amount">4</span>
                  </li>
                </ul>
                <div id="chart-table" class="chart-wrapper"></div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <span>NGU·ªíN ƒê∆†N H√ÄNG</span>
                <i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> T·∫°i b√†n
                    <span class="amount">45</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> Mang v·ªÅ
                    <span class="amount">12</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-purple"></span> App
                    <span class="amount">18</span>
                  </li>
                </ul>
                <div id="chart-order" class="chart-wrapper"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="view-menu" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              Danh s√°ch m√≥n ƒÉn
            </div>

            <div style="display: flex; gap: 15px; align-items: center">
              <div class="search-box" style="border: 2px dashed #cbd5e1">
                <i class="fas fa-tag" style="color: #ec4899"></i>
                <input
                  type="text"
                  id="menu-discount-input"
                  onkeyup="applyMenuDiscount()"
                  placeholder="Nh·∫≠p m√£ (VD: CHIEN10)..."
                  style="
                    width: 180px;
                    text-transform: uppercase;
                    font-weight: bold;
                    color: #ec4899;
                  "
                />
              </div>

              <button class="action-btn" onclick="openAddModal()">
                + Th√™m m√≥n m·ªõi
              </button>
            </div>
          </div>

          <div id="menu-grid-container" class="menu-grid"></div>
        </div>

        <div id="view-tables" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              S∆° ƒë·ªì b√†n ƒÉn
            </div>

            <div style="display: flex; gap: 10px">
              <div
                class="search-box"
                style="width: 200px; border: 1px solid #cbd5e1"
              >
                <i class="fas fa-search" style="color: #64748b"></i>
                <input
                  type="text"
                  id="table-dish-search"
                  onkeyup="renderTables()"
                  placeholder="T√¨m m√≥n (VD: G√†)..."
                />
              </div>
              <div class="filter-group">
                <button class="filter-btn active" onclick="filterTables('all')">
                  T·∫•t c·∫£
                </button>
                <button class="filter-btn" onclick="filterTables('T·∫ßng 1')">
                  T·∫ßng 1
                </button>
                <button class="filter-btn" onclick="filterTables('T·∫ßng 2')">
                  T·∫ßng 2
                </button>
                <button class="filter-btn" onclick="filterTables('T·∫ßng 3')">
                  T·∫ßng 3
                </button>
              </div>
            </div>
          </div>

          <div id="table-grid-container" class="table-grid"></div>

          <div class="section-title" style="margin-top: 30px">
            Qu·∫£n l√Ω Khuy·∫øn m√£i
          </div>
          <div
            class="promotion-panel"
            style="
              background: white;
              padding: 20px;
              border-radius: 12px;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            "
          >
            <div style="display: flex; gap: 10px; margin-bottom: 15px">
              <input
                type="text"
                id="promo-code-input"
                class="edit-input"
                placeholder="M√£ gi·∫£m gi√° (VD: SALE50)"
                style="margin: 0"
              />
              <input
                type="number"
                id="promo-value-input"
                class="edit-input"
                placeholder="Gi·∫£m %"
                style="margin: 0; width: 100px"
              />
              <button class="action-btn" onclick="addPromotion()">
                Th√™m m√£
              </button>
            </div>
            <div id="promo-list-container"></div>
          </div>
        </div>

        <div id="view-orders" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              Danh s√°ch ƒë∆°n h√†ng
            </div>
            <div class="filter-group">
              <button class="filter-btn active" onclick="filterOrders('all')">
                T·∫•t c·∫£
              </button>
              <button class="filter-btn" onclick="filterOrders('pending')">
                Ch·ªù b·∫øp
              </button>
              <button class="filter-btn" onclick="filterOrders('completed')">
                Ho√†n th√†nh
              </button>
            </div>
          </div>
          <div class="table-responsive">
            <table class="custom-table">
              <thead>
                <tr>
                  <th>M√£ ƒê∆°n</th>
                  <th>B√†n/Kh√°ch</th>
                  <th>Th·ªùi gian</th>
                  <th>T·ªïng ti·ªÅn</th>
                  <th>Tr·∫°ng th√°i</th>
                  <th>H√†nh ƒë·ªông</th>
                </tr>
              </thead>
              <tbody id="order-list-container"></tbody>
            </table>
          </div>
        </div>

        <div id="view-staff" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              Danh s√°ch nh√¢n vi√™n
            </div>
            <div style="display: flex; gap: 10px">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="staff-search-input"
                  onkeyup="searchStaff()"
                  placeholder="T√¨m t√™n nh√¢n vi√™n..."
                />
              </div>
              <button class="action-btn" onclick="openStaffModal()">
                <i class="fas fa-plus"></i> Th√™m nh√¢n vi√™n
              </button>
            </div>
          </div>
          <div id="staff-grid-container" class="staff-grid"></div>
        </div>
      </div>

      <div id="dishModal" class="modal">
        <div class="modal-content">
          <span class="close-btn" onclick="closeModal('dishModal')"
            >&times;</span
          >
          <div class="modal-left-col">
            <div class="modal-image-wrapper">
              <img id="modal-img" src="" alt="Dish Image" />
              <div
                id="image-placeholder"
                class="image-placeholder-text"
                style="display: none"
              >
                <i class="fas fa-image fa-3x"></i><br />Ch∆∞a c√≥ h√¨nh ·∫£nh
              </div>
            </div>
            <div id="img-input-container" style="display: none; padding: 10px">
              <label style="font-weight: bold">T·∫£i ·∫£nh:</label>
              <input
                type="file"
                id="edit-img-file"
                class="edit-input"
                accept="image/*"
              />
              <input
                type="text"
                id="edit-img-input"
                class="edit-input"
                placeholder="Ho·∫∑c d√°n link..."
              />
            </div>
          </div>
          <div class="modal-details">
            <div id="modal-title-container">
              <h2 id="modal-title" class="modal-title">T√™n m√≥n</h2>
            </div>
            <div id="modal-price-container" style="margin-bottom: 10px">
              <span id="modal-price" class="modal-price">0ƒë</span>
            </div>
            <div class="modal-meta">
              <span style="font-weight: bold; margin-right: 10px"
                >Danh m·ª•c:</span
              >
              <span
                style="
                  background: #f1f5f9;
                  padding: 4px 8px;
                  border-radius: 4px;
                "
                >M√≥n ch√≠nh</span
              >
            </div>
            <div class="modal-meta" style="display: flex; align-items: center">
              <span style="font-weight: bold; margin-right: 10px"
                >T√¨nh tr·∫°ng:</span
              >
              <span
                id="modal-status"
                style="font-weight: bold; margin-right: 15px"
                >‚óè C√≤n h√†ng</span
              >
              <button
                id="btn-toggle-status"
                onclick="toggleStatus()"
                class="status-btn"
              >
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
            <div id="modal-desc-container">
              <p id="modal-desc" class="modal-desc">M√¥ t·∫£ m√≥n ƒÉn...</p>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 15px">
              <button
                id="edit-btn"
                onclick="toggleEditMode()"
                class="action-btn"
              >
                <i class="fas fa-edit"></i> <span id="edit-btn-text">S·ª≠a</span>
              </button>
              <button
                id="delete-btn"
                onclick="deleteDish()"
                class="action-btn btn-red"
              >
                <i class="fas fa-trash"></i> X√≥a
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="tableDetailModal" class="modal">
        <div
          class="modal-content"
          style="width: 800px; max-width: 95%; height: 85vh"
        >
          <span class="close-btn" onclick="closeModal('tableDetailModal')"
            >&times;</span
          >
          <div style="display: flex; height: 100%; width: 100%">
            <div
              style="
                width: 30%;
                background: #f8fafc;
                padding: 20px;
                border-right: 1px solid #eee;
                display: flex;
                flex-direction: column;
                align-items: center;
              "
            >
              <h2 id="td-table-name" style="margin-bottom: 5px">B√†n 01</h2>
              <p id="td-table-area" style="color: #64748b; font-size: 0.9rem">
                Khu v·ª±c: T·∫ßng 1
              </p>
              <div
                class="qr-container"
                style="
                  background: white;
                  padding: 10px;
                  border-radius: 8px;
                  margin: 15px 0;
                  text-align: center;
                  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
                "
              >
                <img
                  id="td-qr-img"
                  src=""
                  style="width: 140px; height: 140px"
                />
              </div>
              <button
                onclick="printTableQR()"
                class="action-btn"
                style="width: 100%; margin-bottom: 20px; background: #334155"
              >
                <i class="fas fa-print"></i> In Tem B√†n
              </button>
              <div style="width: 100%; text-align: left; margin-top: auto">
                <label style="font-weight: bold; font-size: 0.85rem"
                  >Tr·∫°ng th√°i:</label
                >
                <select
                  id="td-status-select"
                  class="edit-input"
                  onchange="changeTableStatusFromSelect(this.value)"
                  style="margin-bottom: 15px"
                >
                  <option value="empty">Tr·ªëng</option>
                  <option value="reserved">ƒê√£ ƒë·∫∑t tr∆∞·ªõc</option>
                  <option value="occupied">C√≥ kh√°ch</option>
                </select>
                <label style="font-weight: bold; font-size: 0.85rem"
                  >Gi·ªù v√†o:</label
                >
                <div
                  id="td-time-in"
                  style="margin-bottom: 15px; color: #334155"
                >
                  --:--
                </div>
              </div>
            </div>
            <div
              style="
                width: 70%;
                padding: 20px;
                display: flex;
                flex-direction: column;
              "
            >
              <div
                style="
                  display: flex;
                  gap: 10px;
                  margin-bottom: 15px;
                  border-bottom: 1px solid #eee;
                  padding-bottom: 10px;
                "
              >
                <button
                  class="filter-btn active"
                  onclick="switchTableTab('order')"
                >
                  ƒê∆°n h√†ng
                </button>
                <button class="filter-btn" onclick="switchTableTab('history')">
                  L·ªãch s·ª≠
                </button>
              </div>
              <div
                id="tab-table-order"
                style="flex-grow: 1; display: flex; flex-direction: column"
              >
                <div
                  class="table-responsive"
                  style="
                    flex-grow: 1;
                    overflow-y: auto;
                    border: 1px solid #eee;
                    border-radius: 8px;
                    margin-bottom: 15px;
                  "
                >
                  <table class="custom-table" style="min-width: 100%">
                    <thead>
                      <tr style="font-size: 0.85rem">
                        <th>M√≥n ƒÉn</th>
                        <th>SL</th>
                        <th>Ghi ch√∫</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Ti·ªÅn</th>
                      </tr>
                    </thead>
                    <tbody id="td-order-list"></tbody>
                  </table>
                </div>
                <div
                  style="background: #f1f5f9; padding: 15px; border-radius: 8px"
                >
                  <div style="display: flex; justify-content: space-between">
                    <span>T·∫°m t√≠nh:</span>
                    <span id="td-subtotal" style="font-weight: bold">0ƒë</span>
                  </div>
                  <div
                    style="
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                      margin: 5px 0;
                    "
                  >
                    <span>M√£ gi·∫£m:</span>
                    <div style="display: flex; gap: 5px">
                      <input
                        type="text"
                        id="td-promo-input"
                        placeholder="M√£..."
                        style="padding: 4px; width: 80px"
                      /><button onclick="applyPromotion()" class="status-btn">
                        √Åp d·ª•ng
                      </button>
                    </div>
                  </div>
                  <div
                    style="
                      display: flex;
                      justify-content: space-between;
                      color: var(--status-red);
                    "
                  >
                    <span>Gi·∫£m gi√°:</span> <span id="td-discount">-0ƒë</span>
                  </div>
                  <div
                    style="
                      display: flex;
                      justify-content: space-between;
                      font-weight: bold;
                      font-size: 1.1rem;
                      border-top: 1px dashed #ccc;
                      padding-top: 10px;
                      margin-top: 5px;
                    "
                  >
                    <span>T·ªîNG:</span>
                    <span
                      id="td-final-total"
                      style="color: var(--sidebar-active)"
                      >0ƒë</span
                    >
                  </div>
                  <button
                    onclick="checkoutTable()"
                    class="action-btn"
                    style="
                      width: 100%;
                      justify-content: center;
                      margin-top: 15px;
                      background: var(--chart-green);
                    "
                  >
                    <i class="fas fa-check-circle"></i> Thanh to√°n
                  </button>
                </div>
              </div>
              <div
                id="tab-table-history"
                style="display: none; flex-grow: 1; overflow-y: auto"
              >
                <ul
                  id="td-history-list"
                  style="list-style: none; padding: 0"
                ></ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="orderModal" class="modal">
        <div class="modal-content" style="width: 500px; max-width: 95%">
          <span class="close-btn" onclick="closeModal('orderModal')"
            >&times;</span
          >
          <div style="padding: 25px">
            <h2
              style="
                border-bottom: 2px solid #f1f5f9;
                padding-bottom: 10px;
                margin-bottom: 15px;
              "
            >
              Chi ti·∫øt ƒë∆°n h√†ng
              <span id="order-id-modal" style="color: var(--sidebar-active)"
                >#</span
              >
            </h2>
            <div
              id="order-items-list"
              style="margin-bottom: 20px; max-height: 300px; overflow-y: auto"
            ></div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-size: 1.2rem;
                font-weight: bold;
                margin-bottom: 20px;
              "
            >
              <span>T·ªïng c·ªông:</span>
              <span id="order-total-modal" style="color: var(--status-red)"
                >0ƒë</span
              >
            </div>
            <button
              onclick="completeOrder()"
              class="action-btn"
              style="
                width: 100%;
                justify-content: center;
                background: var(--chart-green);
              "
            >
              Ho√†n th√†nh ƒë∆°n
            </button>
          </div>
        </div>
      </div>

      <div id="staffModal" class="modal">
        <div class="modal-content" style="width: 500px; max-width: 95%">
          <span class="close-btn" onclick="closeModal('staffModal')"
            >&times;</span
          >
          <div style="padding: 25px">
            <h2
              id="staff-modal-title"
              style="text-align: center; margin-bottom: 20px"
            >
              Th√™m nh√¢n vi√™n m·ªõi
            </h2>
            <div style="text-align: center; margin-bottom: 15px">
              <img
                id="staff-preview-img"
                src="https://via.placeholder.com/100"
                style="
                  width: 80px;
                  height: 80px;
                  border-radius: 50%;
                  object-fit: cover;
                  border: 2px solid #eee;
                "
              />
            </div>
            <div
              style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px"
            >
              <div class="form-group">
                <label>H·ªç t√™n:</label
                ><input type="text" id="staff-name-input" class="edit-input" />
              </div>
              <div class="form-group">
                <label>Ch·ª©c v·ª•:</label
                ><select id="staff-role-input" class="edit-input">
                  <option value="Ph·ª•c v·ª•">Ph·ª•c v·ª•</option>
                  <option value="ƒê·∫ßu b·∫øp">ƒê·∫ßu b·∫øp</option>
                  <option value="Thu ng√¢n">Thu ng√¢n</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label>Tr·∫°ng th√°i:</label
              ><select id="staff-status-input" class="edit-input">
                <option value="online">üü¢ ƒêang l√†m vi·ªác</option>
                <option value="offline">‚ö™ Ngh·ªâ ca</option>
              </select>
            </div>
            <div
              style="
                background: #f8fafc;
                padding: 10px;
                border-radius: 8px;
                margin-bottom: 10px;
              "
            >
              <h4 style="margin-bottom: 8px; color: var(--sidebar-active)">
                Th√¥ng tin c√° nh√¢n
              </h4>
              <div
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px"
              >
                <input
                  type="text"
                  id="staff-phone"
                  class="edit-input"
                  placeholder="SƒêT"
                />
                <input
                  type="text"
                  id="staff-dob"
                  class="edit-input"
                  placeholder="NƒÉm sinh"
                />
              </div>
              <input
                type="text"
                id="staff-address"
                class="edit-input"
                placeholder="ƒê·ªãa ch·ªâ"
                style="margin-top: 5px"
              />
            </div>
            <div
              style="
                background: #f8fafc;
                padding: 10px;
                border-radius: 8px;
                margin-bottom: 10px;
              "
            >
              <h4 style="margin-bottom: 8px; color: var(--sidebar-active)">
                L∆∞∆°ng & Th∆∞·ªüng
              </h4>
              <input
                type="text"
                id="staff-schedule"
                class="edit-input"
                placeholder="L·ªãch l√†m vi·ªác"
              />
              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 10px;
                  margin-top: 5px;
                "
              >
                <input
                  type="text"
                  id="staff-salary-basic"
                  class="edit-input"
                  placeholder="L∆∞∆°ng CB"
                />
                <input
                  type="text"
                  id="staff-salary-bonus"
                  class="edit-input"
                  placeholder="Th∆∞·ªüng"
                />
              </div>
            </div>
            <div class="form-group">
              <label>Link ·∫£nh (Avatar):</label>
              <input
                type="text"
                id="staff-img-input"
                class="edit-input"
                placeholder="https://..."
                onchange="document.getElementById('staff-preview-img').src = this.value"
              />
            </div>

            <button
              onclick="saveStaff()"
              class="action-btn"
              style="width: 100%; margin-top: 15px; justify-content: center"
            >
              L∆∞u th√¥ng tin
            </button>
          </div>
        </div>
      </div>

      <div id="alert-toast" class="alert-toast">
        <div class="alert-icon"><i class="fas fa-bell"></i></div>
        <div class="alert-content">
          <div class="alert-title" id="alert-title">Th√¥ng b√°o</div>
          <div class="alert-msg" id="alert-msg">N·ªôi dung</div>
        </div>
        <div class="alert-close" onclick="closeAlert()">&times;</div>
      </div>
      <div id="chart-tooltip" class="chart-tooltip"></div>
    </main>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <div id="chatbot-widget" class="chat-widget">
      <div class="chat-header" onclick="toggleChatbot()">
        <div style="display: flex; align-items: center; gap: 10px">
          <div class="chat-avatar">AI</div>
          <div>
            <div style="font-weight: bold; font-size: 0.95rem">
              Tr·ª£ l√Ω Qu·∫£n l√Ω
            </div>
            <div style="font-size: 0.75rem; opacity: 0.9">‚óè Lu√¥n s·∫µn s√†ng</div>
          </div>
        </div>
        <i class="fas fa-chevron-down"></i>
      </div>

      <div id="chat-messages" class="chat-body">
        <div class="message bot-msg">
          Ch√†o S·∫øp Trung! Em c√≥ th·ªÉ gi√∫p g√¨ cho vi·ªác qu·∫£n l√Ω h√¥m nay ·∫°?
        </div>
      </div>

      <div class="chat-footer">
        <input
          type="text"
          id="chat-input"
          placeholder="H·ªèi doanh thu, ƒë∆°n h√†ng..."
          onkeypress="handleChatKey(event)"
        />
        <button onclick="sendChatMessage()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </body>
</html>
